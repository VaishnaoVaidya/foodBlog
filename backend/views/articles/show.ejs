<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <title>Blog</title>
  </head>
  <body>
    <div
      class="container m-150 d-flex justify-content-center align-items-center"
    >
      <div class="text-center border" style="width: 800px">
        <% if (article && article.author) { %>
        <img
          src="/uploads/<%- article.image %>"
          alt="<%= article.image %>"
          class="img-fluid mb-4"
          width="auto"
          height="600"
        />
        <div class="border mt-15 pt-10">
          <div class="card-subtitle  mb-2 d-flex flex-row justify-content-start align-items-start">
            <h6 style="color: rgb(181, 181, 181); font-size: 12px; font-weight: bold;">
              <%= article.author + " " %>
            </h6>
            <h6 style="color: rgb(199, 190, 183); font-size: 12px; margin-left: 5px; font-weight: 400;">
              <%= " | " + article.createdAt.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' }) + " |" %>
            </h6>
            <% 
              // Example content 
              const articleContent = article.content;
              // Calculate number of words in the article 
              const wordCount = articleContent.split(/\s+/).length;
              // Estimate reading time (average speed: 200 words per minute) 
              const readingTime = Math.ceil(wordCount / 200); 
            %>
            <h6 style="color: rgb(199, 190, 183); font-size: 12px; margin-left: 5px; font-weight: 400;">
              <%= readingTime %> min read
            </h6>
          </div>
          
          <div class="card-subtitle mt-4 mb-4 d-flex flex-column justify-content-start align-items-start">
            <h3 style="display: flex; line-height: 1.3em; flex-direction: column; margin-top: -60px; font-weight: 500;  padding-top: 0px; align-items: flex-start; text-align: left; white-space: pre-line; font-size: 40px;">
              <%= article.title %>
            </h3>
            <!-- ... rest of your content ... -->

            
            <div class="mb-4 d-flex justify-content-start align-items-start g-5">
              <a href="/" class="btn btn-secondary ml-5 me-3">All Articles</a>
              <a href="/articles/edit/<%- article.id %>" class="btn btn-info ml-5">Edit</a>
          </div>
            
            <div class="d-flex flex-column justify-content-start align-items-start">
                <%- article.sanitizedHtml %>
                <h6 style=" display: flex; line-height: 1.3em; flex-direction: column; margin-top: 10px; font-size: larger; font-weight: 400;  padding-top: 0px; align-items: flex-start; text-align: left; white-space: pre-line;"><%= article.content%></h6>

            </div>
        </div>
        

        </div>

        <% } else { %>
        <p>Article not found or missing author information</p>
        <!-- You can provide a link to navigate back or handle it as needed -->
        <% } %> Â 
      </div>
    </div>
  </body>
</html>
